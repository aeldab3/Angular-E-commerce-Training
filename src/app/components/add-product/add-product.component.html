<h1>{{newProduct | json}}</h1>
<form #addProductForm="ngForm" (submit)="addNewProduct()">
  <div class="mb-3">
    <label for="exampleInputName" class="form-label">Name:</label>
    <input type="text" [(ngModel)]="newProduct.name" name="name" class="form-control" #prdName="ngModel"
      id="exampleInputName" aria-describedby="emailHelp" required pattern="^[a-zA-Z]{3,15}$">
    @if(prdName.invalid && prdName.touched){
    <div class="text-danger">
      <p *ngIf="prdName.errors?.['required']">The name is required</p>
      <p *ngIf="prdName.errors?.['pattern']">The name must be between 3 and 15 characters</p>
    </div>

    }
  </div>
  <div class="mb-3">
    <label for="exampleInputPassword1" class="form-label">Price:</label>
    <input type="number" [(ngModel)]="newProduct.price" name="price" class="form-control" id="exampleInputPassword1"
      required>
  </div>
  <div class="mb-3">
    <label for="exampleInputQuantity" class="form-label">Quantity:</label>
    <input type="number" [(ngModel)]="newProduct.quantity" name="quantity" class="form-control"
      id="exampleInputQuantity">
  </div>
  <div class="mb-3">
    <label for="exampleInputImage" class="form-label">Image:</label>
    <input type="file" [(ngModel)]="newProduct.imageUrl" name="imageUrl" class="form-control" id="exampleInputImage">
  </div>
  <div class="mb-3">
    <label for="exampleInputCategory" class="form-label">Category:</label>
    <select class="form-select form-select-lg" id="exampleInputCategory" [(ngModel)]="newProduct.catId" name="catId">
      @for(cat of categories;track cat.id){
      <option value="{{cat.id}}">{{cat.name}}</option>
      }
    </select>
  </div>
  <button type="submit" [disabled]="addProductForm.invalid" class="btn btn-primary">Submit</button>
</form>

<!--
<h1>{{newProduct | json}}</h1>
<form (submit)="addNewProduct()">
  <div class="mb-3">
    <label for="exampleInputName" class="form-label">Name:</label>
    <input type="text" [(ngModel)]="newProduct.name" name="name" class="form-control" id="exampleInputName" required>
  </div>
  <div class="mb-3">
    <label for="exampleInputPrice" class="form-label">Price:</label>
    <input type="number" [(ngModel)]="newProduct.price" name="price" class="form-control" id="exampleInputPrice"
      required>
  </div>
  <div class="mb-3">
    <label for="exampleInputQuantity" class="form-label">Quantity:</label>
    <input type="number" [(ngModel)]="newProduct.quantity" name="quantity" class="form-control"
      id="exampleInputQuantity" required>
  </div>
  <div class="mb-3">
    <label for="exampleInputImage" class="form-label">Image:</label>
    <input type="file" (change)="onFileSelected($event)" class="form-control" name="imageUrl" id="exampleInputImage"
      required>
  </div>
  <div class="mb-3">
    <label for="exampleInputCategory" class="form-label">Category:</label>
    <select class="form-select" id="exampleInputCategory" [(ngModel)]="newProduct.catId" name="catId" required>
      <option *ngFor="let cat of categories" [value]="cat.id">{{cat.name}}</option>
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>
-->
